profiles {
  // You can keep docker/standard if you want, but you'll be using 'singularity'
  standard {
    process.executor = 'local'
  }

  singularity {
    process.executor   = 'local'
    apptainer.enabled  = true      // or: singularity.enabled = true (older Nextflow)
    docker.enabled     = false

    // Optional: if you want the profile to set a default container as well:
    // process.container = "${projectDir}/containers/wes-scdrs.sif"

    // Optional cache location if you ever reference docker:// images
    apptainer.cacheDir = "${System.getenv('HOME')}/.apptainer"
  }
}

params {
  // Pipeline params (match main.nf defaults; you can override at runtime)
  repo_url    = 'https://github.com/seirana/WESscDRS.git'
  branch      = 'main'
  run_args    = ''
  outdir      = 'results'

  // IMPORTANT: Use your SIF, not a Docker tag
  container   = "${projectDir}/containers/wes-scdrs.sif"

  // Google Drive defaults (can override)
  gdrive_url  = 'https://drive.google.com/file/d/1st4mJF1CORXlRX6mNQDDgz7VKn_IdzAt/view?usp=drive_link'
  gdrive_dest = 'data'
}

timeline {
  enabled = true
  file    = "timeline.html"
}
trace {
  enabled = true
  file    = "trace.txt"
}
report {
  enabled = true
  file    = "report.html"
}
dag {
  enabled = true
  file    = "flowchart.png"
}
