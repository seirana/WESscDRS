Bootstrap: docker
From: python:3.11-slim

%help
    Singularity image for WESscDRS:
    - Python 3.11
    - pip
    - git + curl for downloads (if needed)

%post
    apt-get update && \
    apt-get install -y --no-install-recommends \
        git \
        curl \
        ca-certificates \
        build-essential && \
    rm -rf /var/lib/apt/lists/*

    python -m pip install --upgrade pip

%environment
    export LC_ALL=C
    export LANG=C.UTF-8
    export PYTHONUNBUFFERED=1

%runscript
    # Just forward arguments to Python / shell, Nextflow controls the command.
    exec "$@"
